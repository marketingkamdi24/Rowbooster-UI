# Database Configuration
DATABASE_URL=postgresql://postgres:your_password_here@localhost:5432/rowbooster

# Email Service Configuration (Required for user management and contact features)
#
# IONOS Email Configuration (RECOMMENDED for Rowbooster - kontakt@rowbooster.com)
# IONOS SMTP Settings:
# - Server: smtp.ionos.de
# - Port 465: SSL/TLS (implicit encryption, generally more reliable)
# - Port 587: STARTTLS (explicit encryption, try if port 465 has issues)
# - Username: Your full email address (e.g., kontakt@rowbooster.com)
# - Important: NEVER commit real passwords to version control!
#
# TROUBLESHOOTING:
# - If emails don't reach Gmail/other providers, try switching to port 587
# - Port 587 with STARTTLS has broader compatibility with some email providers
# - Check your IONOS account that SPF/DKIM records are properly configured for your domain
#
SMTP_HOST=smtp.ionos.de
SMTP_PORT=465
# Alternative - try this if emails don't reach Gmail:
# SMTP_PORT=587
SMTP_USER=kontakt@rowbooster.com
SMTP_PASS=your_ionos_password_here
SMTP_FROM=kontakt@rowbooster.com

# Alternative: Gmail Configuration
# To use Gmail: Google Account > Security > 2-Step Verification > App passwords
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your_gmail_app_password_here
# SMTP_FROM=your-email@gmail.com

# Option 2: Microsoft Exchange/Office 365
# SMTP_HOST=smtp.office365.com
# SMTP_PORT=587
# SMTP_USER=your-email@domain.com
# SMTP_PASS=your-password-here
# SMTP_FROM=your-email@domain.com

# Option 3: Custom SMTP Server
# SMTP_HOST=smtp.your-company.com
# SMTP_PORT=587
# SMTP_USER=your-email@domain.com
# SMTP_PASS=your-password-here
# SMTP_FROM=your-email@domain.com

# Application URL (for email links)
APP_URL=http://localhost:5000
# Production: APP_URL=https://your-domain.com

# Node Environment
NODE_ENV=development

# API Keys (Optional - can be configured per-user in UI)
OPENAI_API_KEY=your-openai-api-key
VALUESERP_API_KEY=your-valueserp-api-key

# Google Custom Search (Optional)
GOOGLE_API_KEY=your-google-api-key
GOOGLE_CX=your-google-cx

# Feature Flags
ENABLE_GUEST_MODE=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_REGISTRATION=true

# Session Configuration
SESSION_DURATION=86400000
# 86400000 = 24 hours in milliseconds
SESSION_IDLE_TIMEOUT=1800000
# 1800000 = 30 minutes idle timeout

# ============================================
# SECURITY CONFIGURATION (IMPORTANT!)
# ============================================

# Session Security
# Generate a strong secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_VALUE_AT_LEAST_64_CHARS

# Rate Limiting
MAX_LOGIN_ATTEMPTS=5
RATE_LIMIT_WINDOW_MS=900000
# 900000 = 15 minutes in milliseconds
GENERAL_RATE_LIMIT=100
# Maximum API requests per minute per IP

# Account Lockout
ACCOUNT_LOCK_TIME=900000
# 900000 = 15 minutes in milliseconds

# Session Binding (prevents session hijacking)
# Set to 'false' to disable IP/User-Agent binding checks
SESSION_BINDING_ENABLED=true
# Set to 'true' to immediately invalidate sessions on IP/UA change
STRICT_SESSION_BINDING=false

# CSRF Protection
CSRF_ENABLED=true

# Trust Proxy (enable only if behind a reverse proxy like nginx)
# Required for correct IP detection behind proxies
TRUST_PROXY=false

# Debug Endpoints (NEVER enable in production!)
ENABLE_DEBUG_ENDPOINTS=false

# ============================================
# PRODUCTION SECURITY CHECKLIST:
# ============================================
# [ ] Change SESSION_SECRET to a secure random value
# [ ] Set NODE_ENV=production
# [ ] Use HTTPS (configure TRUST_PROXY if behind proxy)
# [ ] Set strong passwords for all accounts
# [ ] Enable email verification (ENABLE_EMAIL_VERIFICATION=true)
# [ ] Configure proper SMTP settings
# [ ] Review and restrict CORS origins
# [ ] Set ENABLE_DEBUG_ENDPOINTS=false
# [ ] Use a strong DATABASE_URL with SSL
# ============================================

# Monitoring System
# RBManager default password (CHANGE THIS IN PRODUCTION!)
RB_MANAGER_DEFAULT_PASSWORD=your_secure_password_here